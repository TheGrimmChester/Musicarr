{% extends 'base.html.twig' %}

{% block title %}Qualité audio{% endblock %}

{% block body %}
    <div class="container">
        <h1>Qualité audio</h1>
        <p>Page d'analyse de la qualité audio</p>
        
        <form method="post" action="{{ path('audio_quality_save') }}">
            <div class="form-group">
                <label>
                    <input type="checkbox" name="enabled" value="1" {% if config.enabled %}checked{% endif %}>
                    Activer l'analyse de qualité audio
                </label>
            </div>
            
            <div class="form-group">
                <label for="min_bitrate">Bitrate minimum (kbps):</label>
                <input type="number" id="min_bitrate" name="min_bitrate" value="{{ config.min_bitrate|default(192) }}" min="32" max="320">
            </div>
            
            <div class="form-group">
                <label for="preferred_format">Format préféré:</label>
                <select id="preferred_format" name="preferred_format">
                    <option value="mp3" {% if config.preferred_format == 'mp3' %}selected{% endif %}>MP3</option>
                    <option value="flac" {% if config.preferred_format == 'flac' %}selected{% endif %}>FLAC</option>
                    <option value="aac" {% if config.preferred_format == 'aac' %}selected{% endif %}>AAC</option>
                    <option value="ogg" {% if config.preferred_format == 'ogg' %}selected{% endif %}>OGG</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" name="analyze_existing" value="1" {% if config.analyze_existing %}checked{% endif %}>
                    Analyser les pistes existantes
                </label>
            </div>
            
            <div class="form-group">
                <label for="quality_threshold">Seuil de qualité (0-1):</label>
                <input type="number" id="quality_threshold" name="quality_threshold" value="{{ config.quality_threshold|default(0.8) }}" min="0" max="1" step="0.1">
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" name="auto_convert" value="1" {% if config.auto_convert %}checked{% endif %}>
                    Conversion automatique
                </label>
            </div>
            
            <div class="form-group">
                <label for="convert_to_format">Format de conversion:</label>
                <select id="convert_to_format" name="convert_to_format">
                    <option value="mp3" {% if config.convert_to_format == 'mp3' %}selected{% endif %}>MP3</option>
                    <option value="flac" {% if config.convert_to_format == 'flac' %}selected{% endif %}>FLAC</option>
                    <option value="aac" {% if config.convert_to_format == 'aac' %}selected{% endif %}>AAC</option>
                    <option value="ogg" {% if config.convert_to_format == 'ogg' %}selected{% endif %}>OGG</option>
                </select>
            </div>
            
            <button type="submit" class="btn btn-primary">Sauvegarder</button>
        </form>
    </div>
{% endblock %} 